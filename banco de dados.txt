create database trabalho1;
use trabalho1;

CREATE TABLE Cliente (
    cliente_id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    endereco VARCHAR(255),
    telefone VARCHAR(20),
    email VARCHAR(100)
);


CREATE TABLE Laudo (
    laudo_id INT AUTO_INCREMENT PRIMARY KEY,
    descricao TEXT,
    data DATE,
    veterinario_id INT,
    animal_id INT,
    FOREIGN KEY (veterinario_id) REFERENCES Veterinario(veterinario_id),
    FOREIGN KEY (animal_id) REFERENCES Animal(animal_id)
);


CREATE TABLE Consulta (
    consulta_id INT AUTO_INCREMENT PRIMARY KEY,
    data_hora DATETIME,
    cliente_id INT,
    veterinario_id INT,
    descricao TEXT,
    FOREIGN KEY (cliente_id) REFERENCES Cliente(cliente_id),
    FOREIGN KEY (veterinario_id) REFERENCES Veterinario(veterinario_id)
);

CREATE TABLE Atendente (
    atendente_id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    email VARCHAR(100),
    senha VARCHAR(255)
);


CREATE TABLE Login (
    login_id INT AUTO_INCREMENT PRIMARY KEY,
    usuario_id INT,
    tipo_usuario ENUM('Cliente', 'Atendente', 'Veterinario') NOT NULL,
    FOREIGN KEY (usuario_id) REFERENCES Cliente(cliente_id) ON DELETE CASCADE,
    FOREIGN KEY (usuario_id) REFERENCES Atendente(atendente_id) ON DELETE CASCADE,
    FOREIGN KEY (usuario_id) REFERENCES Veterinario(veterinario_id) ON DELETE CASCADE
);


CREATE TABLE Animal (
    animal_id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    especie VARCHAR(100),
    raca VARCHAR(100),
    cliente_id INT,
    FOREIGN KEY (cliente_id) REFERENCES Cliente(cliente_id)
);


CREATE TABLE Veterinario (
    veterinario_id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    especialidade VARCHAR(100),
    email VARCHAR(100),
    telefone VARCHAR(20)
);